<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kizuna Loader</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital@0;1&family=Noto+Serif+JP:wght@400;700&display=swap"
        rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            width: 100%;
            height: 100vh;
            overflow: hidden;
            background: #fafaf8;
            font-family: 'Crimson Text', serif;
        }

        /* Top Panel - Dark */
        .loader-top {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 50vh;
            background: linear-gradient(180deg, #3d2329 0%, #2a1a1f 100%);
            z-index: 99;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            overflow: hidden;
        }

        /* Bottom Panel - Light */
        .loader-bottom {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 50vh;
            background: linear-gradient(180deg, #f5f0ed 0%, #faf8f6 100%);
            z-index: 99;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            overflow: hidden;
        }

        /* Sakura background */
        .sakura-bg {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
        }

        .sakura {
            position: absolute;
            width: 15px;
            height: 15px;
            opacity: 0.1;
            border-radius: 50%;
        }

        .loader-top .sakura {
            background: #f5c6d3;
        }

        .loader-bottom .sakura {
            background: #d4697f;
        }

        /* Centered Content */
        .loader-content {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 100;
            text-align: center;
        }

        /* Spinner */
        .spinner {
            width: 150px;
            height: 150px;
            margin: 0 auto 32px;
            position: relative;
        }

        .ring {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 3px solid transparent;
        }

        .ring-1 {
            border-top-color: #d4697f;
            border-right-color: #d4697f;
            animation: rotate-cw 2.5s linear infinite;
        }

        .ring-2 {
            width: 100px;
            height: 100px;
            top: 25px;
            left: 25px;
            border-bottom-color: #3d2329;
            border-left-color: #3d2329;
            animation: rotate-ccw 2s linear infinite;
        }

        .ring-3 {
            width: 50px;
            height: 50px;
            top: 50px;
            left: 50px;
            border-top-color: #d4697f;
            animation: rotate-cw 1.5s linear infinite;
        }

        .center-dot {
            position: absolute;
            width: 12px;
            height: 12px;
            background: #3d2329;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
        }

        .title {
            font-family: 'Noto Serif JP', serif;
            font-size: clamp(28px, 4.5vw, 56px);
            font-weight: 700;
            color: #2b1518;
            margin-bottom: 10px;
            letter-spacing: 1.5px;
            line-height: 1.05;
            text-rendering: optimizeLegibility;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            transition: transform 450ms cubic-bezier(.2,.8,.2,1), opacity 350ms;
            will-change: transform, opacity;
        }

        .title .accent {
            color: #d4697f;
            font-weight: 700;
            letter-spacing: 0.6px;
        }

        .subtitle {
            font-size: clamp(10px, 1.2vw, 12px);
            color: rgba(61, 35, 41, 0.85);
            text-transform: uppercase;
            letter-spacing: 2.5px;
            margin-bottom: 28px;
            font-weight: 600;
            font-family: 'Crimson Text', serif;
            opacity: 1;
        }

        .status {
            font-size: clamp(11px, 1.3vw, 14px);
            color: rgba(61, 35, 41, 0.72);
            margin-bottom: 20px;
            font-style: italic;
            letter-spacing: 0.4px;
        }

        .dots {
            display: flex;
            gap: 8px;
            justify-content: center;
        }

        .dot {
            width: 4px;
            height: 4px;
            background: #d4697f;
            border-radius: 50%;
            animation: dot-bounce 1.4s infinite;
        }

        .dot:nth-child(1) {
            animation-delay: 0s;
        }

        .dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        /* Animations */
        @keyframes rotate-cw {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        @keyframes rotate-ccw {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(-360deg);
            }
        }

        @keyframes dot-bounce {

            0%,
            100% {
                transform: translateY(0);
                opacity: 0.4;
            }

            50% {
                transform: translateY(-6px);
                opacity: 1;
            }
        }

        /* Panel slide animations */
        .loader-top.closing {
            animation: slide-top 1s cubic-bezier(0.6, -0.28, 0.735, 0.045) forwards;
        }

        .loader-bottom.closing {
            animation: slide-bottom 1s cubic-bezier(0.6, -0.28, 0.735, 0.045) forwards;
        }

        @keyframes slide-top {
            0% {
                transform: translateY(0);
            }

            100% {
                transform: translateY(-100%);
            }
        }

        @keyframes slide-bottom {
            0% {
                transform: translateY(0);
            }

            100% {
                transform: translateY(100%);
            }
        }

        @media (prefers-reduced-motion: reduce) {
            .ring, .dot, .loader-top, .loader-bottom, .spinner {
                animation: none !important;
                transition: none !important;
            }
            .title { transition: none !important; transform: none !important; }
        }
    </style>
</head>

<body>
    <!-- Top Panel -->
    <div class="loader-top">
        <div class="sakura-bg" id="sakura-top"></div>
    </div>

    <!-- Bottom Panel -->
    <div class="loader-bottom">
        <div class="sakura-bg" id="sakura-bottom"></div>
    </div>

    <!-- Centered Loader -->
    <div class="loader-content">
        <div class="subtitle">Connection â€¢ Bond</div>

        <div class="spinner">
            <div class="ring ring-1"></div>
            <div class="ring ring-2"></div>
            <div class="ring ring-3"></div>
            <div class="center-dot"></div>
        </div>

        <div class="title">Entering <span class="accent">Kizuna</span></div>
        <div class="status">Preserving memories...</div>

        <div class="dots">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
        </div>
    </div>

    <script>
        // Generate sakura petals
        function generateSakura(elementId) {
            const container = document.getElementById(elementId);
            for (let i = 0; i < 20; i++) {
                const petal = document.createElement('div');
                petal.className = 'sakura';

                const size = Math.random() * 25 + 10;
                petal.style.width = size + 'px';
                petal.style.height = size + 'px';
                petal.style.left = Math.random() * 100 + '%';
                petal.style.top = Math.random() * 100 + '%';

                container.appendChild(petal);
            }
        }

        generateSakura('sakura-top');
        generateSakura('sakura-bottom');

        // Close loader function
        function closeLoader() {
            document.querySelector('.loader-top').classList.add('closing');
            document.querySelector('.loader-bottom').classList.add('closing');
        }

        // Auto-close for demo
        setTimeout(() => closeLoader(), 4000);

        // Make globally available
        window.closeLoader = closeLoader;
    </script>
</body>

</html>